
string function testfunction ()

  integer result;
  string outString;

  integer function dowork(integer ctl, string label) 
    integer i;
    string someArray[10];
  begin
    case ctl is
      when 0 then
        outString := label;
        result := putString(outString);
        dowork := 0;
      when 1 then
        outString := label;
        result := putString(outString);
        dowork := doWork(0,"Doing work for case 1");
      when 2 then
        outString := label;
        result := putString(outString);
        dowork := doWork(1,"Doing work for case 2");
      default then
        outString := label;
        result := putString(outString);
        dowork := doWork(2,"Doing work for default case");
    end case;
    dowork := 4;
  end function;
begin
  outString := "A test job";
  putString(outstring);
  result := dowork(1, "First String");
  putString(outstring);
  result := dowork(5, "Second String");
  putString(outstring);
end function
